(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{9237:(e,t,a)=>{Promise.resolve().then(a.bind(a,9845))},9845:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>L});var r=a(8081),l=a(2149),s=a(9651),o=a(2274),n=a(9223),i=a(4881),c=a(8045),d=a(6338),u=a(5260);let m=[{id:"jungle",name:"Jungle",position:{x:20,y:30},icon:n.A,minLevel:1,type:"addition",color:"text-green-600",bgColor:"bg-green-100",shadow:"shadow-green-500/50",glow:"bg-green-400/30"},{id:"beach",name:"Beach",position:{x:70,y:60},icon:i.A,minLevel:1,type:"subtraction",color:"text-yellow-600",bgColor:"bg-yellow-100",shadow:"shadow-yellow-500/50",glow:"bg-yellow-400/30"},{id:"mountain",name:"Mountain",position:{x:40,y:15},icon:c.A,minLevel:2,type:"mixed",color:"text-gray-600",bgColor:"bg-gray-100",shadow:"shadow-gray-500/50",glow:"bg-gray-400/30"},{id:"space",name:"Space",position:{x:80,y:20},icon:d.A,minLevel:3,type:"multiplication",color:"text-purple-600",bgColor:"bg-purple-100",shadow:"shadow-purple-500/50",glow:"bg-purple-400/30"},{id:"underwater",name:"Underwater",position:{x:15,y:70},icon:u.A,minLevel:4,type:"division",color:"text-blue-600",bgColor:"bg-blue-100",shadow:"shadow-blue-500/50",glow:"bg-blue-400/30"}];function h(e){let{level:t,onChallengeSelect:a,character:s}=e,[n,i]=(0,l.useState)({x:50,y:50}),[c,d]=(0,l.useState)([]),[u,h]=(0,l.useState)([]),[p,f]=(0,l.useState)([]),[x,g]=(0,l.useState)([]);(0,l.useEffect)(()=>{d(m.filter(e=>e.minLevel<=t)),b(),v(),w()},[t]);let b=()=>{let e=[];for(let t=0;t<5;t++)e.push({id:"cloud-".concat(t),x:80*Math.random()+10,y:30*Math.random()+5,size:.5*Math.random()+.7,speed:10*Math.random()+20});h(e)},v=()=>{let e=["\uD83E\uDD8A","\uD83D\uDC22","\uD83E\uDD9C","\uD83D\uDC20","\uD83E\uDD8B","\uD83D\uDC3F️"],a=[],r=Math.min(t+2,6);for(let t=0;t<r;t++)a.push({id:"animal-".concat(t),emoji:e[t],x:70*Math.random()+15,y:40*Math.random()+40,delay:5*Math.random()});f(a)},w=()=>{let e=["\uD83D\uDC8E","\uD83C\uDFC6","\uD83D\uDD2E","\uD83D\uDCE6","\uD83C\uDF81"],a=[],r=Math.min(Math.floor(t/2)+1,5);for(let t=0;t<r;t++)a.push({id:"treasure-".concat(t),emoji:e[t],x:60*Math.random()+20,y:30*Math.random()+50});g(a)},y=e=>{i({x:e.position.x,y:e.position.y});let r=N(e.type,t);r.locationId=e.id,setTimeout(()=>{a(r)},1e3)},N=(e,t)=>{let a={type:e,difficulty:t,options:[],correctAnswer:null},r=Math.min(10+2*t,20);switch(e){case"addition":let l=Math.floor(Math.random()*r),s=Math.floor(Math.random()*r);a.question="".concat(l," + ").concat(s," = ?"),a.correctAnswer=l+s;break;case"subtraction":let o=Math.floor(Math.random()*r)+r,n=Math.floor(Math.random()*o);a.question="".concat(o," - ").concat(n," = ?"),a.correctAnswer=o-n;break;case"multiplication":let i=Math.floor(5*Math.random())+1,c=Math.floor(5*Math.random())+1;a.question="".concat(i," \xd7 ").concat(c," = ?"),a.correctAnswer=i*c;break;case"division":let d=Math.floor(5*Math.random())+1,u=Math.floor(5*Math.random())+1,m=d*u;a.question="".concat(m," \xf7 ").concat(d," = ?"),a.correctAnswer=u;break;case"mixed":return N(Math.random()>.5?"addition":"subtraction",t)}return a.options=j(a.correctAnswer,r),a},j=(e,t)=>{let a=[e];for(;a.length<4;){let e=Math.floor(2*t*Math.random());a.includes(e)||a.push(e)}return a.sort(()=>Math.random()-.5)};return(0,r.jsxs)("div",{className:"relative w-full h-[600px] bg-gradient-to-b from-sky-300 to-blue-400 rounded-xl overflow-hidden shadow-2xl border-4 border-white",children:[u.map(e=>(0,r.jsx)(o.P.div,{className:"absolute",style:{top:"".concat(e.y,"%"),left:"-10%",scale:e.size},animate:{left:["0%","110%"]},transition:{duration:e.speed,repeat:Number.POSITIVE_INFINITY,ease:"linear"},children:(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-12 h-8 bg-white rounded-full opacity-90"}),(0,r.jsx)("div",{className:"w-8 h-10 bg-white rounded-full opacity-90"}),(0,r.jsx)("div",{className:"w-10 h-12 bg-white rounded-full opacity-90"})]})},e.id)),(0,r.jsx)("div",{className:"absolute top-[5%] right-[10%]",children:(0,r.jsx)(o.P.div,{className:"w-16 h-16 bg-yellow-300 rounded-full shadow-lg shadow-yellow-500/50",animate:{scale:[1,1.1,1]},transition:{duration:4,repeat:Number.POSITIVE_INFINITY},children:[...Array(8)].map((e,t)=>(0,r.jsx)(o.P.div,{className:"absolute w-2 h-8 bg-yellow-300 rounded-full",style:{left:"50%",top:"50%",transformOrigin:"center bottom",transform:"translate(-50%, -100%) rotate(".concat(45*t,"deg)")},animate:{scale:[1,1.2,1]},transition:{duration:2,delay:.2*t,repeat:Number.POSITIVE_INFINITY}},"ray-".concat(t)))})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 h-[45%]",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-green-400 to-green-300 rounded-tl-[100px] rounded-tr-[50px]"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-[10%] w-40 h-20 bg-green-500 rounded-t-[100%]"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-[30%] w-60 h-40 bg-green-500 rounded-t-[100%]"}),(0,r.jsx)("div",{className:"absolute bottom-0 right-[20%] w-40 h-30 bg-green-500 rounded-t-[100%]"}),(0,r.jsx)("div",{className:"absolute top-[20%] right-[20%] w-32 h-32",children:(0,r.jsx)(o.P.div,{className:"w-full h-full bg-blue-400 rounded-full opacity-90",animate:{scale:[1,1.03,1]},transition:{duration:3,repeat:Number.POSITIVE_INFINITY}})}),(0,r.jsx)(o.P.div,{className:"absolute top-[30%] left-[10%] w-[80%] h-4 bg-yellow-200 rounded-full",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:2}})]}),(0,r.jsxs)("div",{className:"absolute top-[20%] left-[30%] w-20 h-20",children:[(0,r.jsx)("div",{className:"absolute bottom-0 w-full h-full bg-gray-400 clip-triangle"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-[20%] w-[60%] h-[30%] bg-white clip-triangle"})]}),(0,r.jsxs)("div",{className:"absolute top-[15%] left-[40%] w-16 h-16",children:[(0,r.jsx)("div",{className:"absolute bottom-0 w-full h-full bg-gray-500 clip-triangle"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-[30%] w-[40%] h-[20%] bg-white clip-triangle"})]}),p.map(e=>(0,r.jsx)(o.P.div,{className:"absolute text-2xl",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%")},animate:{y:[0,-10,0]},transition:{duration:2,delay:e.delay,repeat:Number.POSITIVE_INFINITY},children:e.emoji},e.id)),x.map(e=>(0,r.jsx)(o.P.div,{className:"absolute text-2xl",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%")},animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:3,repeat:Number.POSITIVE_INFINITY},children:e.emoji},e.id)),c.map(e=>{let t=e.icon;return(0,r.jsxs)("div",{className:"absolute cursor-pointer",style:{left:"".concat(e.position.x,"%"),top:"".concat(e.position.y,"%"),transform:"translate(-50%, -50%)",zIndex:10},children:[(0,r.jsx)(o.P.div,{className:"absolute inset-0 rounded-full ".concat(e.glow," blur-xl"),animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY},style:{width:"100%",height:"100%",transform:"translate(-25%, -25%) scale(1.5)"}}),(0,r.jsxs)(o.P.div,{className:"relative flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full ".concat(e.bgColor," ").concat(e.shadow," shadow-lg border-2 border-white"),whileHover:{scale:1.1,rotate:[0,-5,5,0]},whileTap:{scale:.9},onClick:()=>y(e),children:[(0,r.jsx)(t,{className:"w-10 h-10 ".concat(e.color)}),[void 0,void 0,void 0].map((t,a)=>(0,r.jsx)(o.P.div,{className:"absolute w-3 h-3 text-yellow-400",style:{left:"".concat(50+130*Math.cos(2*Math.PI*a/3),"%"),top:"".concat(50+130*Math.sin(2*Math.PI*a/3),"%")},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:2,delay:.6*a,repeat:Number.POSITIVE_INFINITY},children:"⭐"},"star-".concat(e.id,"-").concat(a)))]}),(0,r.jsx)(o.P.div,{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-white px-3 py-1 rounded-full text-xs md:text-sm font-bold shadow-md border border-gray-200",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:e.name})]},e.id)}),(0,r.jsxs)(o.P.div,{className:"absolute z-20",animate:{left:"".concat(n.x,"%"),top:"".concat(n.y,"%")},transition:{type:"spring",stiffness:100,damping:15},style:{transform:"translate(-50%, -50%)"},children:[(0,r.jsx)(o.P.div,{className:"absolute bottom-0 left-1/2 w-10 h-3 bg-black/20 rounded-full blur-sm",animate:{scale:[1,1.1,1]},transition:{duration:.5,repeat:Number.POSITIVE_INFINITY},style:{transform:"translateX(-50%)"}}),(0,r.jsxs)(o.P.div,{className:"relative flex items-center justify-center w-16 h-16 bg-white rounded-full shadow-lg border-2 border-gray-200",animate:{y:[0,-5,0]},transition:{duration:1.5,repeat:Number.POSITIVE_INFINITY},children:[(0,r.jsx)("span",{className:"text-3xl",children:(()=>{switch(s){case"explorer":return"\uD83D\uDC68‍\uD83C\uDF3E";case"astronaut":return"\uD83D\uDC68‍\uD83D\uDE80";case"diver":return"\uD83C\uDFCA‍♂️";default:return"\uD83D\uDC66"}})()}),(0,r.jsx)(o.P.div,{className:"absolute -bottom-2 w-10 h-10 rounded-full bg-yellow-400/30 blur-md",animate:{scale:[0,1,0],opacity:[0,.5,0]},transition:{duration:1,repeat:Number.POSITIVE_INFINITY}})]})]}),c.map(e=>(0,r.jsx)(o.P.div,{className:"absolute z-5",style:{left:"".concat(e.position.x,"%"),top:"".concat(e.position.y-15,"%")},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,r.jsxs)("div",{className:"px-2 py-1 bg-white/80 rounded-md text-xs font-bold text-gray-700 shadow-sm",children:["Level ",e.minLevel,"+"]})},"level-".concat(e.id)))]})}var p=a(3213),f=a(6522),x=a(4483);function g(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,x.QP)((0,f.$)(t))}let b=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:g("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});b.displayName="Card",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:g("flex flex-col space-y-1.5 p-6",a),...l})}).displayName="CardHeader",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:g("text-2xl font-semibold leading-none tracking-tight",a),...l})}).displayName="CardTitle",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:g("text-sm text-muted-foreground",a),...l})}).displayName="CardDescription";let v=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:g("p-6 pt-0",a),...l})});v.displayName="CardContent",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:g("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";var w=a(2932);let y=(0,a(3484).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=l.forwardRef((e,t)=>{let{className:a,variant:l,size:s,asChild:o=!1,...n}=e,i=o?w.DX:"button";return(0,r.jsx)(i,{className:g(y({variant:l,size:s,className:a})),ref:t,...n})});N.displayName="Button";var j=a(1251);function I(e){let{challenge:t,level:a,onComplete:s,playSound:n}=e,[i,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(null),[m,h]=(0,l.useState)(null),[f,x]=(0,l.useState)([]),[g,w]=(0,l.useState)(1),[y,I]=(0,l.useState)(t),[M,S]=(0,l.useState)(0);(0,l.useEffect)(()=>{c(null),u(null),T(),h(Math.max(20-a,10));let e=setInterval(()=>{h(t=>t<=1?(clearInterval(e),null===d&&A(null),0):t-1)},1e3);return()=>clearInterval(e)},[y]);let T=()=>{let e=[];if("addition"===y.type||"subtraction"===y.type){let t=y.question.split(/[+\-=]/g),a=Number.parseInt(t[0].trim()),r=Number.parseInt(t[1].trim());for(let t=0;t<a;t++)e.push({id:"elem-1-".concat(t),type:"circle",color:"bg-blue-500",group:1});for(let t=0;t<r;t++)e.push({id:"elem-2-".concat(t),type:"circle",color:"addition"===y.type?"bg-green-500":"bg-red-500",group:2})}else if("multiplication"===y.type){let t=y.question.split(/[×=]/g),a=Number.parseInt(t[0].trim()),r=Number.parseInt(t[1].trim());for(let t=0;t<a;t++)for(let a=0;a<r;a++)e.push({id:"elem-".concat(t,"-").concat(a),type:"square",color:"bg-purple-500",group:1})}else if("division"===y.type){let t=y.question.split(/[÷=]/g),a=Number.parseInt(t[0].trim()),r=Number.parseInt(t[1].trim());for(let t=0;t<a;t++)e.push({id:"elem-".concat(t),type:"circle",color:"bg-orange-500",group:Math.floor(t/r)+1})}x(e)},A=e=>{if(null!==d)return;let t=e===y.correctAnswer;u(t?"correct":"incorrect"),c(e),t?n("correct"):n("incorrect");let a=t?Math.max(1,Math.floor(m/2)):0;S(e=>e+a),setTimeout(()=>{g<3&&t?P():s(t,M+a)},2e3)},P=()=>{let e=Math.min(10+2*a,20),t={...y};switch(y.type){case"addition":let r=Math.floor(Math.random()*e),l=Math.floor(Math.random()*e);t.question="".concat(r," + ").concat(l," = ?"),t.correctAnswer=r+l;break;case"subtraction":let s=Math.floor(Math.random()*e)+e,o=Math.floor(Math.random()*s);t.question="".concat(s," - ").concat(o," = ?"),t.correctAnswer=s-o;break;case"multiplication":let n=Math.floor(5*Math.random())+1,i=Math.floor(5*Math.random())+1;t.question="".concat(n," \xd7 ").concat(i," = ?"),t.correctAnswer=n*i;break;case"division":let d=Math.floor(5*Math.random())+1,m=Math.floor(5*Math.random())+1,h=d*m;t.question="".concat(h," \xf7 ").concat(d," = ?"),t.correctAnswer=m}t.options=C(t.correctAnswer,e),w(e=>e+1),I(t),c(null),u(null)},C=(e,t)=>{let a=[e];for(;a.length<4;){let e=Math.floor(2*t*Math.random());a.includes(e)||a.push(e)}return a.sort(()=>Math.random()-.5)};return(0,r.jsx)("div",{className:"w-full max-w-2xl",children:(0,r.jsx)(b,{className:"bg-white shadow-lg",children:(0,r.jsxs)(v,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(N,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{s(!1,M)},children:(0,r.jsx)(j.A,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"text-lg font-bold",children:[{jungle:"Jungle",beach:"Beach",mountain:"Mountain",space:"Space",underwater:"Underwater"}[y.locationId]||"Adventure"," Challenge (",g,"/3)"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"px-4 py-2 rounded-full font-bold ".concat(m>10?"bg-green-100 text-green-700":m>5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:[m,"s"]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 bg-amber-100 px-3 py-1 rounded-full",children:[(0,r.jsx)("span",{className:"text-amber-500 text-lg",children:"★"}),(0,r.jsx)("span",{className:"font-bold",children:M})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-8 mb-8",children:[(0,r.jsx)("div",{className:"w-full p-4 bg-gray-50 rounded-lg flex justify-center",children:(()=>{if("addition"===y.type||"subtraction"===y.type)return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2 max-w-md",children:f.filter(e=>1===e.group).map(e=>(0,r.jsx)(o.P.div,{className:"w-6 h-6 rounded-full ".concat(e.color),initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10}},e.id))}),(0,r.jsx)("div",{className:"text-2xl font-bold",children:"addition"===y.type?"+":"-"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2 max-w-md",children:f.filter(e=>2===e.group).map(e=>(0,r.jsx)(o.P.div,{className:"w-6 h-6 rounded-full ".concat(e.color),initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.3}},e.id))})]});if("multiplication"===y.type){let e={};return f.forEach(t=>{let a=t.id.split("-")[1];e[a]||(e[a]=[]),e[a].push(t)}),(0,r.jsx)("div",{className:"flex flex-col items-center gap-2",children:Object.values(e).map((e,t)=>(0,r.jsx)("div",{className:"flex gap-2",children:e.map((e,a)=>(0,r.jsx)(o.P.div,{className:"w-6 h-6 ".concat(e.color),initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.05*(t+a)}},e.id))},"row-".concat(t)))})}if("division"===y.type){let e={};return f.forEach(t=>{e[t.group]||(e[t.group]=[]),e[t.group].push(t)}),(0,r.jsx)("div",{className:"flex flex-col items-center gap-4",children:Object.entries(e).map(e=>{let[t,a]=e;return(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2 p-2 border border-dashed border-gray-300 rounded-lg max-w-md",children:a.map((e,a)=>(0,r.jsx)(o.P.div,{className:"w-6 h-6 rounded-full ".concat(e.color),initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10,delay:.05*(Number.parseInt(t)+a)}},e.id))},"group-".concat(t))})})}return null})()}),(0,r.jsx)("div",{className:"text-4xl font-bold",children:y.question})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:y.options.map(e=>(0,r.jsx)(o.P.button,{className:"p-6 text-2xl font-bold rounded-lg border-2 ".concat(i===e?"correct"===d?"bg-green-100 border-green-500 text-green-700":"bg-red-100 border-red-500 text-red-700":"bg-gray-100 border-gray-300 hover:bg-gray-200"),onClick:()=>A(e),whileHover:{scale:1.05},whileTap:{scale:.95},disabled:null!==d,children:e},e))}),(0,r.jsx)(p.N,{children:d&&(0,r.jsx)(o.P.div,{className:"absolute inset-0 flex items-center justify-center bg-black/20",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsx)(o.P.div,{className:"p-8 rounded-xl ".concat("correct"===d?"bg-green-500":"bg-red-500"," text-white text-4xl font-bold"),initial:{scale:0},animate:{scale:1,rotate:[0,10,-10,0]},transition:{type:"spring",duration:.5},children:"correct"===d?g<3?"Correct! Next problem coming up! \uD83C\uDF89":"All correct! Great job! \uD83C\uDF89":"Try Again! \uD83E\uDD14"})})})]})})})}var M=a(4658),S=a(2711);let T=[{id:"explorer",name:"Explorer",icon:M.A,color:"text-amber-600",bgColor:"bg-amber-100"},{id:"astronaut",name:"Astronaut",icon:d.A,color:"text-purple-600",bgColor:"bg-purple-100"},{id:"diver",name:"Diver",icon:S.A,color:"text-blue-600",bgColor:"bg-blue-100"}];function A(e){let{onSelect:t}=e,[a,s]=(0,l.useState)(null),n=e=>{s(e.id)};return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-8 p-4 w-full max-w-3xl",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Choose Your Character"}),(0,r.jsx)("p",{className:"text-white/80 text-xl",children:"Who will help Gil on this math adventure?"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:T.map(e=>{let t=e.icon;return(0,r.jsx)(o.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,r.jsx)(b,{className:"cursor-pointer transition-all ".concat(a===e.id?"ring-4 ring-yellow-400 shadow-lg":"hover:shadow-md"),onClick:()=>n(e),children:(0,r.jsxs)(v,{className:"p-6 flex flex-col items-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-32 h-32 mb-4 rounded-full ".concat(e.bgColor),children:(0,r.jsx)(t,{className:"w-16 h-16 ".concat(e.color)})}),(0,r.jsx)("h3",{className:"text-xl font-bold",children:e.name})]})})},e.id)})}),(0,r.jsx)(N,{size:"lg",className:"mt-4 h-16 w-40 rounded-full bg-green-500 text-xl hover:bg-green-600",disabled:!a,onClick:()=>{a&&t(a)},children:"Start!"})]})}let P=0,C=new Map,E=e=>{if(C.has(e))return;let t=setTimeout(()=>{C.delete(e),D({type:"REMOVE_TOAST",toastId:e})},1e6);C.set(e,t)},k=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?E(a):e.toasts.forEach(e=>{E(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},O=[],_={toasts:[]};function D(e){_=k(_,e),O.forEach(e=>{e(_)})}function F(e){let{...t}=e,a=(P=(P+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>D({type:"DISMISS_TOAST",toastId:a});return D({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>D({type:"UPDATE_TOAST",toast:{...e,id:a}})}}var V=a(6913),q=a(2739);function L(){let[e,t]=(0,l.useState)("character-select"),[a,o]=(0,l.useState)(1),[n,i]=(0,l.useState)(0),[c,d]=(0,l.useState)(""),[u,m]=(0,l.useState)(null),[p,f]=(0,l.useState)(!1),[x,g]=(0,l.useState)(!1);(0,s.useRouter)();let{toast:b}=function(){let[e,t]=l.useState(_);return l.useEffect(()=>(O.push(t),()=>{let e=O.indexOf(t);e>-1&&O.splice(e,1)}),[e]),{...e,toast:F,dismiss:e=>D({type:"DISMISS_TOAST",toastId:e})}}(),v=(0,l.useRef)({correct:null,incorrect:null,levelUp:null,background:null}),w=()=>{if(x)return;v.current={correct:new Audio("./sounds/correct.mp3"),incorrect:new Audio("./sounds/incorrect.mp3"),levelUp:new Audio("./sounds/level-up.mp3"),background:new Audio("./sounds/background-music.mp3")},v.current.background.loop=!0,v.current.background.volume=.3;let e=v.current.background.play();void 0!==e&&e.catch(e=>{console.log("Audio autoplay was prevented. User needs to interact first:",e)}),g(!0),b({title:"Sound Enabled!",description:"Game sounds are now active. Click the sound icon to mute/unmute."})},y=e=>{if(x&&!p)try{let t=v.current[e];if(t){t.currentTime=0;let a=t.play();void 0!==a&&a.catch(t=>{console.warn("Error playing ".concat(e," sound:"),t)})}}catch(t){console.warn("Error with ".concat(e," sound:"),t)}};return(0,l.useEffect)(()=>()=>{Object.values(v.current).forEach(e=>{e&&(e.pause(),e.src="")})},[]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem("mathAdventureGameData");if(e){let{savedLevel:a,savedStars:r,savedCharacter:l}=JSON.parse(e);a&&o(a),r&&i(r),l&&(d(l),t("map"))}}catch(e){console.warn("Could not load saved game data:",e)}},[]),(0,l.useEffect)(()=>{if(c)try{localStorage.setItem("mathAdventureGameData",JSON.stringify({savedLevel:a,savedStars:n,savedCharacter:c}))}catch(e){console.warn("Could not save game data:",e)}},[a,n,c]),(0,r.jsxs)("main",{className:"flex min-h-screen flex-col items-center bg-gradient-to-b from-sky-400 to-indigo-500 p-4",children:[(0,r.jsxs)("div",{className:"fixed top-4 left-4 right-4 flex justify-between items-center z-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(N,{variant:"outline",className:"bg-white/80 hover:bg-white",onClick:()=>{window.location.href="./"},children:"Home"}),(0,r.jsx)(N,{variant:"outline",size:"icon",className:"bg-white/80 hover:bg-white",onClick:()=>{if(!x){w();return}f(e=>{let t=!e;return Object.values(v.current).forEach(e=>{e&&(e.muted=t)}),!t&&v.current.background&&v.current.background.play().catch(e=>{console.warn("Could not play background music:",e)}),t})},"aria-label":p?"Unmute":"Mute",children:p?(0,r.jsx)(V.A,{className:"h-4 w-4"}):(0,r.jsx)(q.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-white/80 px-4 py-2 rounded-full",children:[(0,r.jsx)("span",{className:"text-amber-500 text-2xl",children:"★"}),(0,r.jsx)("span",{className:"font-bold",children:n})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-white/80 px-4 py-2 rounded-full",children:[(0,r.jsx)("span",{className:"text-purple-500 text-xl",children:"\uD83D\uDCDA"}),(0,r.jsxs)("span",{className:"font-bold",children:["Level ",a]})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 w-full max-w-4xl flex items-center justify-center",children:["character-select"===e&&(0,r.jsx)(A,{onSelect:e=>{x||w(),d(e),t("map"),b({title:"Welcome to Gil's Number Quest!",description:"Tap on a location to start a math challenge!"})}}),"map"===e&&(0,r.jsx)(h,{level:a,onChallengeSelect:e=>{m(e),t("challenge")},character:c}),"challenge"===e&&u&&(0,r.jsx)(I,{challenge:u,level:a,onComplete:(e,r)=>{e?(y("correct"),i(e=>e+r),n+r>=10*a&&(y("levelUp"),o(e=>e+1),b({title:"Level Up!",description:"You're now level ".concat(a+1,"!")}))):y("incorrect"),t("map")},playSound:y})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[763,497,954,358],()=>t(9237)),_N_E=e.O()}]);